(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[182],{715:(e,s,a)=>{"use strict";a.d(s,{default:()=>n});var t=a(5155),r=a(2115),l=a(2619),i=a.n(l);function n(e){let{companies:s,categoryName:a,categorySlug:l,totalCount:n,categories:c,seo:o}=e,[d,x]=(0,r.useState)(""),[m,g]=(0,r.useState)("recommended"),[h,u]=(0,r.useState)(!1),v=(0,r.useMemo)(()=>{let e=[...s];if(d){let s=d.toLowerCase();e=e.filter(e=>{var a,t;let r=Array.isArray(e.cities)?null==(a=e.cities[0])?void 0:a.name:null==(t=e.cities)?void 0:t.name;return e.name.toLowerCase().includes(s)||(r||"").toLowerCase().includes(s)})}switch(h&&(e=e.filter(e=>e.is_verified)),m){case"rating":e.sort((e,s)=>(s.rating||0)-(e.rating||0));break;case"clicks":e.sort((e,s)=>(s.clicks||0)-(e.clicks||0));break;case"name":e.sort((e,s)=>e.name.localeCompare(s.name));break;default:e.sort((e,s)=>e.is_verified&&!s.is_verified?-1:!e.is_verified&&s.is_verified?1:(s.rating||0)-(e.rating||0))}return e},[s,d,m,h]);return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,t.jsxs)("div",{className:"max-w-5xl mx-auto px-4 h-14 flex items-center justify-between",children:[(0,t.jsxs)(i(),{href:"/",className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 3L4 9v12h16V9l-8-6zm0 2.2L18.5 9H5.5L12 5.2zM6 19v-9h12v9H6z"})})}),(0,t.jsxs)("span",{className:"text-xl font-bold text-gray-900",children:["Строй",(0,t.jsx)("span",{className:"text-orange-500",children:"Сейлс"})]})]}),(0,t.jsx)("span",{className:"text-sm text-gray-500 hidden sm:block",children:"Каталог поставщиков"})]})}),(0,t.jsx)("div",{className:"relative w-full",children:(0,t.jsx)("img",{src:"/hero-banner.svg",alt:"",className:"w-full h-auto"})}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 py-8 px-4",children:[(0,t.jsxs)("div",{className:"max-w-5xl mx-auto text-center",children:[(0,t.jsx)("h1",{className:"text-2xl md:text-4xl font-bold text-white mb-3",children:o.h1}),(0,t.jsx)("h2",{className:"text-lg md:text-xl text-blue-100",children:o.h2})]}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 mt-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:null==c?void 0:c.slice(0,4).map(e=>{let s=e.slug===l,a={"prozrachnye-rolstavni":"/categories/prozrachnye.svg","zashchitnye-rolstavni":"/categories/zashchitnye.svg","bezramnoe-osteklenie":"/categories/bezramnoe.svg","avtomaticheskie-vorota":"/categories/vorota.svg","myagkie-okna":"/categories/myagkie.svg","rolletnye-shkafy":"/categories/rolletnye.svg","ofisnye-peregorodki":"/categories/ofisnye.svg"}[e.slug]||"/categories/default.svg";return(0,t.jsxs)(i(),{href:"/".concat(e.slug,"/"),className:"group relative flex flex-col items-center justify-center rounded-2xl overflow-hidden transition-all duration-200 hover:scale-105 hover:shadow-lg ".concat(s?"ring-2 ring-orange-400 ring-offset-2":""),children:[(0,t.jsxs)("div",{className:"relative w-full aspect-square",children:[(0,t.jsx)("img",{src:a,alt:e.name,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t ".concat(s?"from-orange-600/90 to-orange-400/40":"from-black/70 via-black/30 to-transparent")})]}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-center leading-tight block text-white",children:e.name})})]},e.id)})}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-3 max-w-3xl mx-auto mt-3",children:null==c?void 0:c.slice(4,7).map(e=>{let s=e.slug===l,a={"prozrachnye-rolstavni":"/categories/prozrachnye.svg","zashchitnye-rolstavni":"/categories/zashchitnye.svg","bezramnoe-osteklenie":"/categories/bezramnoe.svg","avtomaticheskie-vorota":"/categories/vorota.svg","myagkie-okna":"/categories/myagkie.svg","rolletnye-shkafy":"/categories/rolletnye.svg","ofisnye-peregorodki":"/categories/ofisnye.svg"}[e.slug]||"/categories/default.svg";return(0,t.jsxs)(i(),{href:"/".concat(e.slug,"/"),className:"group relative flex flex-col items-center justify-center rounded-2xl overflow-hidden transition-all duration-200 hover:scale-105 hover:shadow-lg ".concat(s?"ring-2 ring-orange-400 ring-offset-2":""),children:[(0,t.jsxs)("div",{className:"relative w-full aspect-square",children:[(0,t.jsx)("img",{src:a,alt:e.name,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t ".concat(s?"from-orange-600/90 to-orange-400/40":"from-black/70 via-black/30 to-transparent")})]}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:(0,t.jsx)("span",{className:"text-xs font-semibold text-center leading-tight block text-white",children:e.name})})]},e.id)})})]})]}),(0,t.jsx)("div",{className:"bg-white border-b border-gray-200 py-4 px-4 sticky top-14 z-40",children:(0,t.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,t.jsxs)("nav",{className:"flex items-center gap-2 text-sm text-gray-600 mb-4",children:[(0,t.jsx)(i(),{href:"/",className:"hover:text-blue-600",children:"Главная"}),(0,t.jsx)("span",{children:"/"}),(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:a})]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{type:"text",placeholder:"Поиск по названию или городу...",value:d,onChange:e=>x(e.target.value),className:"w-full p-3 bg-white border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:outline-none"})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"p-3 bg-white border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:outline-none",children:[(0,t.jsx)("option",{value:"recommended",children:"Рекомендуемые"}),(0,t.jsx)("option",{value:"rating",children:"По рейтингу"}),(0,t.jsx)("option",{value:"clicks",children:"По популярности"}),(0,t.jsx)("option",{value:"name",children:"По названию"})]}),(0,t.jsx)("button",{onClick:()=>u(!h),className:"px-4 py-3 rounded-lg text-sm font-medium transition ".concat(h?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"✓ Проверенные"})]})]})]})}),(0,t.jsx)("div",{className:"max-w-5xl mx-auto px-4 py-4",children:(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("span",{className:"text-gray-600",children:["Найдено ",(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:v.length})," из ",n," компаний"]})})}),(0,t.jsx)("div",{className:"max-w-5xl mx-auto px-4 pb-8",children:0===v.length?(0,t.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Ничего не найдено"}),(0,t.jsx)("button",{onClick:()=>{x(""),u(!1)},className:"mt-4 text-blue-600 hover:underline",children:"Сбросить фильтры"})]}):(0,t.jsx)("div",{className:"space-y-4",children:v.map(e=>(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),e.is_verified&&(0,t.jsx)("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-0.5 rounded-full whitespace-nowrap",children:"✓ Проверено"})]}),(()=>{var s,a;let r=Array.isArray(e.cities)?null==(s=e.cities[0])?void 0:s.name:null==(a=e.cities)?void 0:a.name;return r?(0,t.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:["\uD83D\uDCCD ",r]}):null})(),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-yellow-500 text-lg",children:"★".repeat(Math.round(e.rating||4))}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[e.rating||4,"/5"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 shrink-0",children:[e.phone?(0,t.jsx)("a",{href:"tel:".concat(e.phone),className:"bg-orange-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-orange-600 transition text-center whitespace-nowrap",children:e.phone}):(0,t.jsx)("span",{className:"text-gray-400 text-sm",children:"Телефон не указан"}),e.website&&(0,t.jsx)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-blue-700 transition text-center whitespace-nowrap",children:"На сайт →"})]})]})},e.id))})})]})}},8163:(e,s,a)=>{Promise.resolve().then(a.bind(a,715))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=8163)),_N_E=e.O()}]);